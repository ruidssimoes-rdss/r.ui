# Popover

Floating content panel positioned relative to a trigger element.

## Installation

```bash
npx r-ui add popover
```

## Usage

```tsx
import {
  Popover,
  PopoverTrigger,
  PopoverContent,
  PopoverClose,
} from '@r-ui/react-native'
import { Button, Text } from '@r-ui/react-native'

export default function MyComponent() {
  return (
    <Popover>
      <PopoverTrigger>
        <Button>Open Popover</Button>
      </PopoverTrigger>
      <PopoverContent>
        <Text>Popover content goes here.</Text>
        <PopoverClose>
          <Button variant="ghost" size="sm">Close</Button>
        </PopoverClose>
      </PopoverContent>
    </Popover>
  )
}
```

## Basic Usage

<ComponentPreview code={`<Popover>
  <PopoverTrigger>
    <Button variant="secondary">Info</Button>
  </PopoverTrigger>
  <PopoverContent>
    <Text variant="body">Additional information about this feature.</Text>
  </PopoverContent>
</Popover>`}>
  <PopoverBasicPreview />
</ComponentPreview>

## With Form

<ComponentPreview code={`<Popover>
  <PopoverTrigger>
    <Button>Settings</Button>
  </PopoverTrigger>
  <PopoverContent>
    <Input label="Display Name" />
    <Input label="Email" />
    <Button>Save</Button>
  </PopoverContent>
</Popover>`}>
  <PopoverWithFormPreview />
</ComponentPreview>

## Menu Style

<ComponentPreview code={`<Popover>
  <PopoverTrigger>
    <Button variant="ghost">More Options</Button>
  </PopoverTrigger>
  <PopoverContent>
    <MenuItem>Edit</MenuItem>
    <MenuItem>Duplicate</MenuItem>
    <MenuItem>Delete</MenuItem>
  </PopoverContent>
</Popover>`}>
  <PopoverMenuPreview />
</ComponentPreview>

### Alignment

```tsx
// Align to start of trigger
<Popover side="bottom" align="start">

// Align to center of trigger (default)
<Popover side="bottom" align="center">

// Align to end of trigger
<Popover side="bottom" align="end">
```

## Rich Content

<ComponentPreview code={`<PopoverContent>
  <View style={{ gap: 16 }}>
    <View>
      <Text variant="label">Notifications</Text>
      <Text variant="bodySmall" color="secondary">
        Manage your notification settings
      </Text>
    </View>
    <Switch label="Email notifications" />
    <Switch label="Push notifications" />
    <PopoverClose>
      <Button variant="secondary" size="sm">Done</Button>
    </PopoverClose>
  </View>
</PopoverContent>`}>
  <div className="w-72 rounded-xl p-4 shadow-lg" style={{ backgroundColor: 'var(--component-bg-elevated)', border: '1px solid var(--component-border)' }}>
    <p className="font-semibold text-sm" style={{ color: 'var(--component-text)' }}>Notifications</p>
    <p className="text-xs mb-4" style={{ color: 'var(--component-text-muted)' }}>Manage your notification settings</p>
    <div className="space-y-3 mb-4">
      <div className="flex items-center justify-between">
        <span className="text-sm" style={{ color: 'var(--component-text)' }}>Email notifications</span>
        <div className="w-10 h-6 rounded-full relative" style={{ backgroundColor: 'var(--switch-bg-checked)' }}>
          <div className="absolute right-1 top-1 w-4 h-4 rounded-full" style={{ backgroundColor: 'var(--switch-thumb)' }}></div>
        </div>
      </div>
      <div className="flex items-center justify-between">
        <span className="text-sm" style={{ color: 'var(--component-text)' }}>Push notifications</span>
        <div className="w-10 h-6 rounded-full relative" style={{ backgroundColor: 'var(--switch-bg)' }}>
          <div className="absolute left-1 top-1 w-4 h-4 rounded-full" style={{ backgroundColor: 'var(--switch-thumb)' }}></div>
        </div>
      </div>
    </div>
    <button className="px-3 py-1.5 text-sm font-semibold rounded-lg" style={{ backgroundColor: 'var(--btn-secondary-bg)', border: '1px solid var(--component-border)', color: 'var(--btn-secondary-text)' }}>Done</button>
  </div>
</ComponentPreview>

## Controlled

```tsx
const [open, setOpen] = useState(false)

<Popover open={open} onOpenChange={setOpen}>
  <PopoverTrigger>
    <Button>Toggle</Button>
  </PopoverTrigger>
  <PopoverContent>
    <Text>Controlled popover</Text>
  </PopoverContent>
</Popover>
```

## Props

### Popover

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | - | Controlled open state |
| `onOpenChange` | `(open: boolean) => void` | - | Callback when open state changes |
| `side` | `'top' \| 'bottom' \| 'left' \| 'right'` | `'bottom'` | Side to show popover |
| `align` | `'start' \| 'center' \| 'end'` | `'center'` | Alignment relative to trigger |

### PopoverTrigger

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactElement` | - | Trigger element |
| `style` | `ViewStyle` | - | Additional styles |

### PopoverContent

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Popover content |
| `style` | `ViewStyle` | - | Additional styles |

### PopoverClose

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Close button content |
| `style` | `ViewStyle` | - | Additional styles |
