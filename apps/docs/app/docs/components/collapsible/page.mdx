# Collapsible

A simple expand/collapse component for toggling content visibility.

## Installation

```bash
npx r-ui add collapsible
```

## Usage

```tsx
import { Collapsible, CollapsibleTrigger, CollapsibleContent } from '@r-ui/react-native'

export default function MyComponent() {
  return (
    <Collapsible>
      <CollapsibleTrigger>
        <Text>Toggle content</Text>
      </CollapsibleTrigger>
      <CollapsibleContent>
        <Text>This content can be toggled</Text>
      </CollapsibleContent>
    </Collapsible>
  )
}
```

## Basic Usage

<ComponentPreview code={`<Collapsible>
  <CollapsibleTrigger>
    <Text>Show more</Text>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <Text>Here is the hidden content.</Text>
  </CollapsibleContent>
</Collapsible>`}>
  <CollapsibleBasicPreview />
</ComponentPreview>

## With Rich Content

<ComponentPreview code={`<Collapsible defaultOpen>
  <CollapsibleTrigger>
    <Text>Repository details</Text>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <Card>
      <CardContent>
        <Text>Repository information here...</Text>
      </CardContent>
    </Card>
  </CollapsibleContent>
</Collapsible>`}>
  <CollapsibleWithContentPreview />
</ComponentPreview>

## FAQ Example

<ComponentPreview code={`<View style={{ gap: 8 }}>
  <Collapsible>
    <CollapsibleTrigger>What is your return policy?</CollapsibleTrigger>
    <CollapsibleContent>We offer 30-day returns.</CollapsibleContent>
  </Collapsible>
  <Collapsible>
    <CollapsibleTrigger>How do I track my order?</CollapsibleTrigger>
    <CollapsibleContent>Check your email for tracking info.</CollapsibleContent>
  </Collapsible>
</View>`}>
  <CollapsibleFAQPreview />
</ComponentPreview>

## Controlled State

<ComponentPreview code={`const [open, setOpen] = useState(false)

<Collapsible open={open} onOpenChange={setOpen}>
  <CollapsibleTrigger>
    <Text>{open ? 'Hide' : 'Show'} details</Text>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <Text>Controlled content</Text>
  </CollapsibleContent>
</Collapsible>

<Button onPress={() => setOpen(!open)}>
  Toggle externally
</Button>`}>
  <div className="w-full flex flex-col gap-4">
    <div>
      <div className="flex items-center gap-2 cursor-pointer">
        <span className="text-sm" style={{ color: 'var(--component-text)' }}>Show details</span>
        <span style={{ color: 'var(--component-text-muted)' }}>▼</span>
      </div>
    </div>
    <button className="px-4 py-2 text-sm rounded w-fit" style={{ backgroundColor: 'var(--btn-primary-bg)', color: 'var(--btn-primary-text)' }}>
      Toggle externally
    </button>
  </div>
</ComponentPreview>

## With Card

<ComponentPreview code={`<Card>
  <Collapsible>
    <CardHeader>
      <CollapsibleTrigger>
        <Flex direction="row" justify="between" align="center">
          <CardTitle>Settings</CardTitle>
          <Icon name="chevron-down" />
        </Flex>
      </CollapsibleTrigger>
    </CardHeader>
    <CollapsibleContent>
      <CardContent>
        <Text>Advanced settings content here...</Text>
      </CardContent>
    </CollapsibleContent>
  </Collapsible>
</Card>`}>
  <div className="w-full max-w-sm rounded-xl overflow-hidden" style={{ backgroundColor: 'var(--component-bg-elevated)', border: '1px solid var(--component-border)' }}>
    <div className="p-4 flex items-center justify-between cursor-pointer">
      <span className="font-semibold" style={{ color: 'var(--component-text)' }}>Settings</span>
      <span style={{ color: 'var(--component-text-muted)' }}>▼</span>
    </div>
    <div className="px-4 pb-4 pt-4" style={{ borderTop: '1px solid var(--component-border)' }}>
      <p className="text-sm" style={{ color: 'var(--component-text-muted)' }}>Advanced settings content here...</p>
    </div>
  </div>
</ComponentPreview>

## With Custom Trigger

Use `asChild` to pass the trigger behavior to a custom component.

<ComponentPreview code={`<Collapsible>
  <CollapsibleTrigger asChild>
    <Button variant="outline">
      Toggle Section
    </Button>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <View style={{ marginTop: 12 }}>
      <Text>Content revealed by button click</Text>
    </View>
  </CollapsibleContent>
</Collapsible>`}>
  <div className="w-full flex flex-col gap-3">
    <button className="px-4 py-2 text-sm rounded w-fit" style={{ border: '1px solid var(--component-border)', color: 'var(--component-text)' }}>
      Toggle Section
    </button>
    <div className="p-3 rounded" style={{ backgroundColor: 'var(--component-bg-surface)', border: '1px solid var(--component-border)' }}>
      <p className="text-sm" style={{ color: 'var(--component-text-muted)' }}>Content revealed by button click</p>
    </div>
  </div>
</ComponentPreview>

## Nested Content

<ComponentPreview code={`<Collapsible>
  <CollapsibleTrigger>
    <Text>Project Files</Text>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <View style={{ paddingLeft: 16, marginTop: 8 }}>
      <Collapsible>
        <CollapsibleTrigger>
          <Text>src/</Text>
        </CollapsibleTrigger>
        <CollapsibleContent>
          <View style={{ paddingLeft: 16 }}>
            <Text>index.ts</Text>
            <Text>App.tsx</Text>
          </View>
        </CollapsibleContent>
      </Collapsible>
      <Text>package.json</Text>
      <Text>README.md</Text>
    </View>
  </CollapsibleContent>
</Collapsible>`}>
  <div className="w-full font-mono text-sm">
    <div className="flex items-center gap-2 cursor-pointer">
      <span style={{ color: 'var(--component-text-muted)' }}>▼</span>
      <span style={{ color: 'var(--component-text)' }}>Project Files</span>
    </div>
    <div className="pl-4 mt-2">
      <div className="flex items-center gap-2 cursor-pointer">
        <span style={{ color: 'var(--component-text-muted)' }}>▼</span>
        <span style={{ color: 'var(--track-fill)' }}>src/</span>
      </div>
      <div className="pl-6 mt-1 space-y-1">
        <p style={{ color: 'var(--component-text-muted)' }}>index.ts</p>
        <p style={{ color: 'var(--component-text-muted)' }}>App.tsx</p>
      </div>
      <p className="mt-1" style={{ color: 'var(--component-text-muted)' }}>package.json</p>
      <p style={{ color: 'var(--component-text-muted)' }}>README.md</p>
    </div>
  </div>
</ComponentPreview>

## Props

### Collapsible

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | - | Controlled open state |
| `onOpenChange` | `(open: boolean) => void` | - | Callback when open state changes |
| `defaultOpen` | `boolean` | `false` | Initial open state |
| `style` | `ViewStyle` | - | Additional styles |

### CollapsibleTrigger

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Trigger content |
| `asChild` | `boolean` | `false` | Pass trigger behavior to child |
| `style` | `ViewStyle` | - | Additional styles |

### CollapsibleContent

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Collapsible content |
| `style` | `ViewStyle` | - | Additional styles |
