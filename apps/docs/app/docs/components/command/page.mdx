# Command

A searchable command palette / combobox component for quick actions and navigation.

## Installation

```bash
npx r-ui add command
```

## Usage

```tsx
import {
  Command,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandSeparator,
  CommandDialog,
} from '@r-ui/react-native'

export default function MyComponent() {
  return (
    <Command>
      <CommandInput placeholder="Search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem value="calendar">Calendar</CommandItem>
          <CommandItem value="search">Search</CommandItem>
          <CommandItem value="settings">Settings</CommandItem>
        </CommandGroup>
      </CommandList>
    </Command>
  )
}
```

## Basic Example

<ComponentPreview code={`<Command>
  <CommandInput placeholder="Search..." />
  <CommandList>
    <CommandEmpty>No results found.</CommandEmpty>
    <CommandGroup heading="Suggestions">
      <CommandItem value="calendar">Calendar</CommandItem>
      <CommandItem value="search">Search</CommandItem>
      <CommandItem value="settings">Settings</CommandItem>
    </CommandGroup>
  </CommandList>
</Command>`}>
  <div className="w-full max-w-sm">
    <div className="rounded-lg" style={{ backgroundColor: 'var(--component-bg-elevated)', border: '1px solid var(--component-border)' }}>
      <div className="px-3 py-3 flex items-center gap-2" style={{ borderBottom: '1px solid var(--component-border)' }}>
        <span className="text-xs" style={{ color: 'var(--component-text-muted)' }}>⌘</span>
        <span className="text-sm" style={{ color: 'var(--component-text-muted)' }}>Search...</span>
      </div>
      <div className="py-2">
        <p className="text-xs px-3 py-2 uppercase tracking-wide" style={{ color: 'var(--component-text-muted)' }}>Suggestions</p>
        <div className="px-2">
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Calendar</div>
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Search</div>
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Settings</div>
        </div>
      </div>
    </div>
  </div>
</ComponentPreview>

## With Groups

Group related items together with headings and separators.

<ComponentPreview code={`<Command>
  <CommandInput placeholder="Search components..." />
  <CommandList>
    <CommandEmpty>No components found.</CommandEmpty>
    <CommandGroup heading="Components">
      <CommandItem value="button">Button</CommandItem>
      <CommandItem value="card">Card</CommandItem>
      <CommandItem value="input">Input</CommandItem>
    </CommandGroup>
    <CommandSeparator />
    <CommandGroup heading="Actions">
      <CommandItem value="new-file">Create new file</CommandItem>
      <CommandItem value="new-folder">Create new folder</CommandItem>
    </CommandGroup>
  </CommandList>
</Command>`}>
  <div className="w-full max-w-sm">
    <div className="rounded-lg" style={{ backgroundColor: 'var(--component-bg-elevated)', border: '1px solid var(--component-border)' }}>
      <div className="px-3 py-3 flex items-center gap-2" style={{ borderBottom: '1px solid var(--component-border)' }}>
        <span className="text-xs" style={{ color: 'var(--component-text-muted)' }}>⌘</span>
        <span className="text-sm" style={{ color: 'var(--component-text-muted)' }}>Search components...</span>
      </div>
      <div className="py-2">
        <p className="text-xs px-3 py-2 uppercase tracking-wide" style={{ color: 'var(--component-text-muted)' }}>Components</p>
        <div className="px-2">
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Button</div>
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Card</div>
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Input</div>
        </div>
        <div className="h-px my-2 mx-2" style={{ backgroundColor: 'var(--component-border)' }} />
        <p className="text-xs px-3 py-2 uppercase tracking-wide" style={{ color: 'var(--component-text-muted)' }}>Actions</p>
        <div className="px-2">
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Create new file</div>
          <div className="px-2 py-2 rounded-md text-sm" style={{ color: 'var(--component-text)' }}>Create new folder</div>
        </div>
      </div>
    </div>
  </div>
</ComponentPreview>

## With Icons

Add icons to command items for visual clarity.

```tsx
<Command>
  <CommandInput placeholder="Search..." />
  <CommandList>
    <CommandGroup heading="Apps">
      <CommandItem
        value="calendar"
        icon={<CalendarIcon />}
      >
        Calendar
      </CommandItem>
      <CommandItem
        value="mail"
        icon={<MailIcon />}
      >
        Mail
      </CommandItem>
    </CommandGroup>
  </CommandList>
</Command>
```

## With Keywords

Add additional keywords to items for better search matching.

```tsx
<Command>
  <CommandInput placeholder="Search..." />
  <CommandList>
    <CommandGroup heading="Components">
      <CommandItem
        value="switch"
        keywords={['toggle', 'boolean', 'on', 'off']}
      >
        Switch
      </CommandItem>
      <CommandItem
        value="checkbox"
        keywords={['check', 'tick', 'select']}
      >
        Checkbox
      </CommandItem>
    </CommandGroup>
  </CommandList>
</Command>
```

## Command Dialog

Use `CommandDialog` for a modal command palette experience (like ⌘K interfaces).

```tsx
import { useState } from 'react'
import {
  CommandDialog,
  CommandInput,
  CommandList,
  CommandGroup,
  CommandItem,
  Button,
} from '@r-ui/react-native'

function CommandPalette() {
  const [open, setOpen] = useState(false)

  return (
    <>
      <Button onPress={() => setOpen(true)}>
        Open Command Palette
      </Button>
      <CommandDialog
        open={open}
        onOpenChange={setOpen}
        onSelect={(value) => {
          console.log('Selected:', value)
          setOpen(false)
        }}
      >
        <CommandInput placeholder="Type a command or search..." />
        <CommandList>
          <CommandGroup heading="Navigation">
            <CommandItem value="home">Go to Home</CommandItem>
            <CommandItem value="settings">Go to Settings</CommandItem>
          </CommandGroup>
          <CommandGroup heading="Actions">
            <CommandItem value="theme">Toggle Dark Mode</CommandItem>
            <CommandItem value="logout">Sign Out</CommandItem>
          </CommandGroup>
        </CommandList>
      </CommandDialog>
    </>
  )
}
```

## Custom Filter

Provide a custom filter function for advanced matching.

```tsx
<Command
  filter={(value, search, keywords) => {
    // Only match if search is at the start of value
    return value.toLowerCase().startsWith(search.toLowerCase())
  }}
>
  <CommandInput placeholder="Search..." />
  <CommandList>
    {/* items */}
  </CommandList>
</Command>
```

## Props

### Command

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `filter` | `(value: string, search: string, keywords?: string[]) => boolean` | `defaultFilter` | Custom filter function |
| `onSelect` | `(value: string) => void` | - | Callback when an item is selected |
| `style` | `ViewStyle` | - | Additional styles |
| `standalone` | `boolean` | `true` | Display as standalone component with styling |

### CommandDialog

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | - | Whether the dialog is open |
| `onOpenChange` | `(open: boolean) => void` | - | Callback when open state changes |
| `filter` | `(value: string, search: string, keywords?: string[]) => boolean` | `defaultFilter` | Custom filter function |
| `onSelect` | `(value: string) => void` | - | Callback when an item is selected |
| `style` | `ViewStyle` | - | Additional container styles |
| `contentStyle` | `ViewStyle` | - | Additional content styles |

### CommandInput

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `placeholder` | `string` | `'Search...'` | Placeholder text |
| `autoFocus` | `boolean` | `true` | Auto-focus when mounted |
| `showClear` | `boolean` | `true` | Show clear button |
| `style` | `ViewStyle` | - | Additional styles |

### CommandList

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `maxHeight` | `number` | `300` | Maximum height for the list |
| `style` | `ViewStyle` | - | Additional styles |

### CommandEmpty

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | `'No results found.'` | Empty state message |
| `style` | `ViewStyle` | - | Additional container styles |
| `textStyle` | `TextStyle` | - | Additional text styles |

### CommandGroup

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `heading` | `string` | - | Group heading |
| `style` | `ViewStyle` | - | Additional container styles |
| `headingStyle` | `TextStyle` | - | Additional heading styles |

### CommandItem

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `value` | `string` | - | Unique value for the item |
| `onSelect` | `() => void` | - | Callback when item is selected |
| `disabled` | `boolean` | `false` | Disable the item |
| `keywords` | `string[]` | - | Additional keywords for search matching |
| `icon` | `ReactNode` | - | Icon to display before text |
| `style` | `ViewStyle` | - | Additional container styles |
| `textStyle` | `TextStyle` | - | Additional text styles |

### CommandSeparator

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `style` | `ViewStyle` | - | Additional styles |
